object Form1: TForm1
  Left = 0
  Top = 0
  Caption = 'Form1'
  ClientHeight = 1147
  ClientWidth = 1491
  Color = clBtnFace
  Font.Charset = DEFAULT_CHARSET
  Font.Color = clWindowText
  Font.Height = -11
  Font.Name = 'Tahoma'
  Font.Style = []
  Menu = MainMenu1
  OldCreateOrder = False
  WindowState = wsMaximized
  PixelsPerInch = 96
  TextHeight = 13
  object DBGrid1: TDBGrid
    Left = 8
    Top = 8
    Width = 641
    Height = 153
    DataSource = OraDataSource1
    ReadOnly = True
    TabOrder = 0
    TitleFont.Charset = DEFAULT_CHARSET
    TitleFont.Color = clWindowText
    TitleFont.Height = -11
    TitleFont.Name = 'Tahoma'
    TitleFont.Style = []
    Columns = <
      item
        Expanded = False
        FieldName = 'BOOK'
        Width = 200
        Visible = True
      end
      item
        Expanded = False
        FieldName = 'AUTHORS'
        Width = 200
        Visible = True
      end
      item
        Expanded = False
        FieldName = 'GENRES'
        Width = 200
        Visible = True
      end>
  end
  object Button1: TButton
    Left = 912
    Top = 48
    Width = 113
    Height = 49
    Caption = 'Button1'
    TabOrder = 1
    OnClick = Button1Click
  end
  object DBGrid3: TDBGrid
    Left = 880
    Top = 584
    Width = 449
    Height = 161
    DataSource = OraDataSource3
    ReadOnly = True
    TabOrder = 2
    TitleFont.Charset = DEFAULT_CHARSET
    TitleFont.Color = clWindowText
    TitleFont.Height = -11
    TitleFont.Name = 'Tahoma'
    TitleFont.Style = []
    Columns = <
      item
        Expanded = False
        FieldName = 'G_ID'
        Visible = True
      end
      item
        Expanded = False
        FieldName = 'PHOTO'
        Visible = True
      end>
  end
  object Button5: TButton
    Left = 880
    Top = 768
    Width = 97
    Height = 41
    Caption = #1044#1086#1073#1072#1074#1080#1090#1100
    TabOrder = 3
    OnClick = Button5Click
  end
  object Button6: TButton
    Left = 1064
    Top = 768
    Width = 97
    Height = 41
    Caption = #1056#1077#1076#1072#1082#1090#1080#1088#1086#1074#1072#1090#1100
    TabOrder = 4
    OnClick = Button6Click
  end
  object Button7: TButton
    Left = 1232
    Top = 768
    Width = 97
    Height = 41
    Caption = #1059#1076#1072#1083#1080#1090#1100
    TabOrder = 5
    OnClick = Button7Click
  end
  object DBEdit2: TDBEdit
    Left = 880
    Top = 832
    Width = 105
    Height = 21
    DataField = 'G_ID'
    DataSource = OraDataSource3
    TabOrder = 6
    Visible = False
  end
  object PageControl1: TPageControl
    Left = 16
    Top = 576
    Width = 833
    Height = 513
    ActivePage = TabSheet4
    TabOrder = 7
    object TabSheet1: TTabSheet
      Caption = #1050#1085#1080#1075#1080
      object DBGrid2: TDBGrid
        Left = 16
        Top = 16
        Width = 401
        Height = 417
        DataSource = OraDataSource2
        ReadOnly = True
        TabOrder = 0
        TitleFont.Charset = DEFAULT_CHARSET
        TitleFont.Color = clWindowText
        TitleFont.Height = -11
        TitleFont.Name = 'Tahoma'
        TitleFont.Style = []
        Columns = <
          item
            Expanded = False
            FieldName = 'B_ID'
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'B_NAME'
            Width = 200
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'B_YEAR'
            Width = 50
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'B_QUANTITY'
            Width = 50
            Visible = True
          end>
      end
      object Button2: TButton
        Left = 448
        Top = 20
        Width = 137
        Height = 37
        Caption = #1044#1086#1073#1072#1074#1080#1090#1100
        TabOrder = 1
        OnClick = Button2Click
      end
      object Button3: TButton
        Left = 448
        Top = 76
        Width = 137
        Height = 37
        Caption = #1056#1077#1076#1072#1082#1090#1080#1088#1086#1074#1072#1090#1100
        TabOrder = 2
        OnClick = Button3Click
      end
      object Button4: TButton
        Left = 448
        Top = 132
        Width = 137
        Height = 37
        Caption = #1059#1076#1072#1083#1080#1090#1100
        TabOrder = 3
        OnClick = Button4Click
      end
      object DBEdit1: TDBEdit
        Left = 16
        Top = 448
        Width = 105
        Height = 21
        DataField = 'B_ID'
        DataSource = OraDataSource2
        TabOrder = 4
        Visible = False
      end
    end
    object TabSheet2: TTabSheet
      Caption = #1040#1074#1090#1086#1088#1099
      ImageIndex = 1
      object DBGrid4: TDBGrid
        Left = 16
        Top = 12
        Width = 401
        Height = 205
        DataSource = OraDataSource4
        ReadOnly = True
        TabOrder = 0
        TitleFont.Charset = DEFAULT_CHARSET
        TitleFont.Color = clWindowText
        TitleFont.Height = -11
        TitleFont.Name = 'Tahoma'
        TitleFont.Style = []
        Columns = <
          item
            Expanded = False
            FieldName = 'A_ID'
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'A_NAME'
            Width = 300
            Visible = True
          end>
      end
      object Button8: TButton
        Left = 536
        Top = 16
        Width = 137
        Height = 33
        Caption = #1044#1086#1073#1072#1074#1080#1090#1100
        TabOrder = 1
      end
      object Button9: TButton
        Left = 536
        Top = 80
        Width = 137
        Height = 33
        Caption = #1056#1077#1076#1072#1082#1090#1080#1088#1086#1074#1072#1090#1100
        TabOrder = 2
      end
      object Button10: TButton
        Left = 536
        Top = 144
        Width = 137
        Height = 33
        Caption = #1059#1076#1072#1083#1080#1090#1100
        TabOrder = 3
      end
    end
    object TabSheet3: TTabSheet
      Caption = #1046#1072#1085#1088#1099
      ImageIndex = 2
      object DBGrid5: TDBGrid
        Left = 16
        Top = 16
        Width = 417
        Height = 297
        DataSource = OraDataSource5
        ReadOnly = True
        TabOrder = 0
        TitleFont.Charset = DEFAULT_CHARSET
        TitleFont.Color = clWindowText
        TitleFont.Height = -11
        TitleFont.Name = 'Tahoma'
        TitleFont.Style = []
        Columns = <
          item
            Expanded = False
            FieldName = 'G_ID'
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'G_NAME'
            Width = 300
            Visible = True
          end>
      end
      object Button11: TButton
        Left = 464
        Top = 16
        Width = 121
        Height = 41
        Caption = #1044#1086#1073#1072#1074#1080#1090#1100
        TabOrder = 1
      end
      object Button12: TButton
        Left = 464
        Top = 88
        Width = 121
        Height = 41
        Caption = #1048#1079#1084#1077#1085#1080#1090#1100
        TabOrder = 2
      end
      object Button13: TButton
        Left = 464
        Top = 160
        Width = 121
        Height = 41
        Caption = #1059#1076#1072#1083#1080#1090#1100
        TabOrder = 3
      end
    end
    object TabSheet4: TTabSheet
      Caption = #1055#1086#1076#1087#1080#1089#1095#1080#1082#1080
      ImageIndex = 3
      ExplicitLeft = 0
      object DBGrid6: TDBGrid
        Left = 3
        Top = 3
        Width = 462
        Height = 318
        DataSource = OraDataSource6
        ReadOnly = True
        TabOrder = 0
        TitleFont.Charset = DEFAULT_CHARSET
        TitleFont.Color = clWindowText
        TitleFont.Height = -11
        TitleFont.Name = 'Tahoma'
        TitleFont.Style = []
        Columns = <
          item
            Expanded = False
            FieldName = 'S_ID'
            Visible = True
          end
          item
            Expanded = False
            FieldName = 'S_NAME'
            Title.Caption = #1048#1084#1103
            Width = 300
            Visible = True
          end>
      end
    end
  end
  object OraSession1: TOraSession
    ConnectMode = cmSysDBA
    Options.ConvertEOL = True
    Options.Direct = True
    Username = 'SYS'
    Server = 'localhost:1521'
    Connected = True
    LoginPrompt = False
    HomeName = 'ORCL'
    Left = 904
    Top = 256
    EncryptedPassword = 'CEFFCDFFCCFF'
  end
  object OraQuery1: TOraQuery
    Session = OraSession1
    SQL.Strings = (
      'SELECT  book, authors,'
      '        UTL_RAW.CAST_TO_NVARCHAR2'
      '        ('
      '            LISTAGG'
      '            ('
      '                UTL_RAW.CAST_TO_RAW(g_name),'
      '                UTL_RAW.CAST_TO_RAW(N'#39', '#39')'
      '            )'
      '            WITHIN GROUP(ORDER BY g_name)'
      '        )'
      '        AS genres'
      'FROM'
      '('
      '        SELECT  b_id, b_name AS book,'
      '                UTL_RAW.CAST_TO_NVARCHAR2'
      '                ('
      '                    LISTAGG'
      '                    ('
      '                        UTL_RAW.CAST_TO_RAW(a_name),'
      '                        UTL_RAW.CAST_TO_RAW(N'#39', '#39')'
      '                    )'
      '                    WITHIN GROUP(ORDER BY a_name)'
      '                )'
      '                AS authors'
      '        FROM books'
      '        JOIN m2m_books_authors USING(b_id)'
      '        JOIN authors USING(a_id)'
      '        GROUP BY b_id,'
      '                 b_name'
      ') first_level'
      'JOIN m2m_books_genres USING(b_id)'
      'JOIN genres USING(g_id)'
      'GROUP BY b_id, book, authors')
    Active = True
    Left = 976
    Top = 256
  end
  object OraDataSource1: TOraDataSource
    DataSet = OraQuery1
    Left = 1048
    Top = 256
  end
  object OraQuery2: TOraQuery
    Session = OraSession1
    SQL.Strings = (
      'SELECT * FROM books')
    Active = True
    Left = 16
    Top = 1096
  end
  object OraDataSource2: TOraDataSource
    DataSet = OraQuery2
    Left = 80
    Top = 1096
  end
  object OraQuery3: TOraQuery
    Session = OraSession1
    SQL.Strings = (
      'SELECT * FROM mtr')
    Active = True
    Left = 912
    Top = 688
  end
  object OraDataSource3: TOraDataSource
    DataSet = OraQuery3
    Left = 992
    Top = 688
  end
  object OraQuery4: TOraQuery
    Session = OraSession1
    SQL.Strings = (
      'SELECT * FROM authors')
    Active = True
    Left = 160
    Top = 1096
  end
  object OraDataSource4: TOraDataSource
    DataSet = OraQuery4
    Left = 224
    Top = 1096
  end
  object OraQuery5: TOraQuery
    Session = OraSession1
    SQL.Strings = (
      'SELECT * FROM genres')
    Active = True
    Left = 328
    Top = 1096
  end
  object OraDataSource5: TOraDataSource
    DataSet = OraQuery5
    Left = 408
    Top = 1096
  end
  object MainMenu1: TMainMenu
    Left = 160
    Top = 296
    object N1: TMenuItem
      Caption = #1050#1085#1080#1075#1080
      object N2: TMenuItem
        Caption = #1044#1086#1073#1072#1074#1080#1090#1100
      end
      object N3: TMenuItem
        Caption = #1048#1079#1084#1077#1085#1080#1090#1100
      end
      object N4: TMenuItem
        Caption = #1059#1076#1072#1083#1080#1090#1100
      end
    end
    object N5: TMenuItem
      Caption = #1040#1074#1090#1086#1088#1099
      object N6: TMenuItem
        Caption = #1044#1086#1073#1072#1074#1080#1090#1100
      end
      object N7: TMenuItem
        Caption = #1048#1079#1084#1077#1085#1080#1090#1100
      end
      object N8: TMenuItem
        Caption = #1059#1076#1072#1083#1080#1090#1100
      end
    end
    object N9: TMenuItem
      Caption = #1046#1072#1085#1088#1099
      object N10: TMenuItem
        Caption = #1044#1086#1073#1072#1074#1080#1090#1100
      end
      object N11: TMenuItem
        Caption = #1048#1079#1084#1077#1085#1080#1090#1100
      end
      object N12: TMenuItem
        Caption = #1059#1076#1072#1083#1080#1090#1100
      end
    end
    object N13: TMenuItem
      Caption = #1055#1086#1076#1087#1080#1089#1095#1080#1082#1080
      object N14: TMenuItem
        Caption = #1044#1086#1073#1072#1074#1080#1090#1100
      end
      object N15: TMenuItem
        Caption = #1048#1079#1084#1077#1085#1080#1090#1100
      end
      object N16: TMenuItem
        Caption = #1059#1076#1072#1083#1080#1090#1100
      end
    end
  end
  object OraQuery6: TOraQuery
    Session = OraSession1
    SQL.Strings = (
      'SELECT * FROM subscribers')
    Active = True
    Left = 520
    Top = 1096
  end
  object OraDataSource6: TOraDataSource
    DataSet = OraQuery6
    Left = 600
    Top = 1096
  end
end
